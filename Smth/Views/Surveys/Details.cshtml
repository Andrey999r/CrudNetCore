@model Smth.ViewModel.SurveyDetailsViewModel

@{
    ViewBag.Title = Model.Name;
}

<h2 class="page-title">@Model.Name</h2>

<div class="survey-details-container">
    <p class="survey-details-description">@Model.Description</p>

    <h3 class="participants-title">Участники:</h3>

    @if (Model.Participants == null || !Model.Participants.Any())
    {
        <p class="no-participants">Пока никто не прошёл этот опрос.</p>
    }
    else
    {
        <div class="participants-list">
            @foreach (var p in Model.Participants)
            {
                <div class="participant-block">
                    <h4 class="participant-name">@p.ParticipantName</h4>
                    @if (p.Answers == null || !p.Answers.Any())
                    {
                        <p class="no-answers">Нет ответов</p>
                    }
                    else
                    {
                        <ul class="answers-list">
                            @foreach (var a in p.Answers)
                            {
                                <li><strong>@a.Text</strong>: @a.ResponseText</li>
                            }
                        </ul>
                    }
                </div> 
            }
        </div> 
    }
</div> 