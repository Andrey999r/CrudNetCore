@model Smth.ViewModel.SurveyDetailsViewModel

@{
    ViewBag.Title = Model.Name;
}

<div class="survey-container">
    <h2 class="survey-title">@Model.Name</h2>

    <div class="survey-card">
        <p class="survey-description">@Model.Description</p>
    </div>

    <div class="participants-card">
        <h3 class="participants-title">–£—á–∞—Å—Ç–Ω–∏–∫–∏:</h3>

        @if (Model.Participants == null || !Model.Participants.Any())
        {
            <p class="no-participants">–ü–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–µ –ø—Ä–æ—à—ë–ª —ç—Ç–æ—Ç –æ–ø—Ä–æ—Å.</p>
        }
        else
        {
            <ul class="participants-list">
                @foreach (var p in Model.Participants)
                {
                    <li class="participant">
                        <a href="@Url.Action("Info", "Surveys", new { participantId = p.Id })">
                            <strong>@p.ParticipantName</strong> - <span>@p.Email</span>
                        </a>
                        <span class="completed-date">@p.CompletedAt.ToString("dd.MM.yyyy HH:mm")</span>

                        <form method="post" asp-action="DeleteParticipant" asp-controller="Surveys"
                              onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞?');" 
                              class="delete-form">
                            <input type="hidden" name="participantId" value="@p.Id" />
                            <button type="submit" class="delete-btn">üóë</button>
                        </form>
                    </li>
                }
            </ul>
        }
    </div>
</div>

<style>
    .survey-container {
        max-width: 600px;
        margin: auto;
        text-align: center;
        color: #ddd;
    }

    .survey-title {
        color: white;
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 20px;
    }

    .survey-card, .participants-card {
        background-color: #222;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .survey-description {
        color: #aaa;
    }

    .participants-title {
        color: white;
        font-size: 20px;
        margin-bottom: 10px;
    }

    .no-participants {
        color: #888;
    }

    .participants-list {
        list-style: none;
        padding: 0;
    }

    .participant {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #333;
        padding: 10px;
        border-radius: 5px;
        margin: 5px 0;
    }

    .participant a {
        color: #67BA80;
        text-decoration: none;
        font-weight: bold;
    }

    .completed-date {
        color: #67BA80;
        font-size: 14px;
        margin-left: 10px;
    }

    .delete-form {
        display: inline;
    }

    .delete-btn {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 18px;
        color: #ff4d4d;
        transition: 0.3s;
    }

    .delete-btn:hover {
        color: #ff1a1a;
    }
</style>
